# DCS-SmartLSO

![](https://i0.hdslb.com/bfs/article/1fac2fb036b58dccc5bdf1373ed01a5ea9d7fbc2.jpg)

## 1. 前言：

从 F/A-18C 模组预售之前一直到现在，断断续续开发了近半年的 Smart LSO 脚本终于能够供大家使用了。虽然现在离最终的效果还差了一大截，但我还是决定发布给大家试用。

目前版本的 Smart LSO 脚本仅包含 Case I 航降作业的内容，以后我会陆续更新脚本以提供 Case II/III 航降作业。另外，还会以插件的形式提供更多的脚本附加内容，比如目前正在开发的 LSO 简评功能。

Smart LSO 脚本内部使用广播机制来实现消息传递，并且提供一系列数据接口。作为一个开源项目，如果有玩家愿意一起为脚本添加更多内容，可以基于 Smart LSO 脚本实现的框架进行二次开发。接口文档我可能暂时还没时间写，有意愿的朋友可以直接联系我。

## 2. 简单介绍：

Smart LSO 是我正在开发的一个 DCS 任务脚本，主要用于模拟美国海军航母回收作业中的真实管制和通话。目前已经实现了航母自动航行、空管（Marshal）、塔台（Tower）、着舰信号官（LSO/Paddles）以及着舰评分等 5 大功能模块。

玩家可以通过游戏内置任务编辑器将 Smart LSO 脚本添加任务中，以提供航母回收作业的通话和管制功能，以及为航母本身提供自动化航行的能力。

关于使用 Smart LSO 进行航母回收作业的实际演示可以观看以下视频：

[【DCS开源】SmartLSO 脚本 - Case I 航母回收作业完整演示](https://www.bilibili.com/video/av28686574)

## 3. 使用方法：

**\*\* 注意 \*\***

**请确保每个群组（Group）内最多只有 1 个客户端（Client）单位，即将客户端（Client）单位分开到不同的群组（Group）中。**

**这是一个历史遗留问题，由于早期的 DCS 并不支持同一群组中出现多个客户端（Client）单位，所以任务脚本引擎所提供的部分 API 所支持的最小范围为群组（Group）。**

使用步骤如下：

1. 下载最新的 Smart LSO 脚本（zip 压缩包），并解压。 [【发布下载地址】](https://github.com/Dennic/DCS-SmartLSO/releases)

2. 进入游戏内置任务编辑器，打开或新建一个任务。

3. 添加一个舰艇群组，选择航母单位，目前脚本仅支持了美国的 CVN-74 “斯坦尼斯”号 航母。

![添加航母单位](https://i0.hdslb.com/bfs/article/6cf6c79e2d351df717db20108b0eed6cab148df4.png@1320w_742h.webp)

4. 给航母单位设置一个单位名称，并按需为第一个航路点设置航路点动作，激活塔康等。如果不想使用 Smart LSO 进行航母自动航行的话，可以自行添加更多的航路点。

![设置航母单位名称](https://i0.hdslb.com/bfs/article/143dbd2082cbbd33f9e41b4229c4d85bb258f193.png@1320w_850h.webp)
![添加航路点动作](https://i0.hdslb.com/bfs/article/93e75ec9bd7522b0cd7dacc8720d158358d627d7.png@1274w_1178h.webp)

5. 如果想要使用游戏内真实无线电的话（即需要无线电调频，通话字幕显示在游戏左上角），需要再添加一个陆地单位，推荐使用悍马（由于 DCS 舰艇的无线电通讯频率设置存在问题，目前只能暂时用这个方式曲线救国）。并为陆地单位设置单位名称，以及在第一个航路点动作中设置通讯频率。（尽量将此单位放置在距离航母最近的岸边或岛屿上，并把无线电功率设置到最大，10000 瓦）

![设置陆地单位名字](https://i0.hdslb.com/bfs/article/4f62f2899eaa99f13895e1e8c0d608f25a283d7f.png@1260w_722h.webp)
![设置无线电频率](https://i0.hdslb.com/bfs/article/d0a3e1622e15ddd2aaa4f9f7d27d08d67d0cb4ec.png@1320w_588h.webp)

6. 如果要航母自动航行的话，添加一个触发区，圆心放置到航母单位附近，触发区半径推荐设置为 50000 英尺（航母在没有进行回收作业时会在此区域内随机航行）。

![添加触发区](https://i0.hdslb.com/bfs/article/78a04641ee5451d1c8cabc1b9dd555fd7909db2d.png@1320w_742h.webp)

7. 使用文本编辑器打开 SmartLSO.lua 文件。（推荐使用 Notepad++，请勿使用 Windows 记事本）

8. 按需修改脚本文件开头的几个固定参数，并保存：

> ***\*要使用真实无线电频率须添加一个陆地单位用作无线电通讯，即第 5 步所添加的单位。***
> 
> ***\*要使用航母自动航行须添加一个触发区，即第 6 步所示。***

![修改固定参数](https://i0.hdslb.com/bfs/article/2cd61d0a7ab516f1e9025e08e94d1311c5827c3a.png@904w_586h.webp)

9. 回到任务编辑器，添加一个触发器。类型为仅一次，触发条件设置为时间大于 1 或更高，触发动作为执行脚本文件，并选择第 8 步所修改保存的 SmartLSO.lua 文件。

![添加脚本文件触发器](https://i0.hdslb.com/bfs/article/a38f2415b8f7576e5b7310f92932032fc7909ade.png@1320w_644h.webp)

10. 再添加一个触发器，触发条件可以随便设置，推荐设置为随机，并把随机概率设置为 0%，向触发动作中依次添加给所有人的音频，并选择 Smart LSO 的 sound 文件夹里的音频文件。（这一步比较麻烦，如果不需要 LSO 指令音频的话，可以只添加 radio_on.ogg。如果没有添加 radio_on.ogg 音频，脚本将无法运行）

![添加音频文件](https://i0.hdslb.com/bfs/article/56692d8a240b237f7f0c681b285a194fac1fad28.png@1320w_682h.webp)

11. 保存任务，然后就可以进到游戏里正常使用 Smart LSO 脚本了。游戏内的使用方法可以查看本文前面简介的演示视频。

## 4. 最后：
因为 Smart LSO 现在还处于测试阶段，如果在使用中遇到了意料之外的 Bug，欢迎大家给我提 issue。

Smart LSO 脚本有自检机制，如果在运行中出现了错误，Smart LSO 脚本会自动重置以保证正常运行。自动重置时屏幕右上角会出现文字提示，如果你在使用中遇到了脚本自动重置，也希望能告知我遇到问题的时机和状况，同时将 DCS.log 文件一并发送给我。

希望能和大家一起，让 DCS 的内容更加丰富多彩。
